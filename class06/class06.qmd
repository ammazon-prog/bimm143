---
title: "Class 6: R Functions Lab"
author: "Ashley Mazon (A17478903)" 
format: pdf 
---

All functions in R have at least 3 things: 

- A **name**, we pick this and use it to call the function. 
- Input **arguments**, there can be multiple comma seperated inputs to the function 
- The **body**, lines of R code that do the work of the function


Our first wee function: 

```{r}
add <- function(x,y=1){
  x+y
}
```

Let's test our function 

```{r}
add(c(1,2,3),y=10)
```

```{r}
add(10,100)
```

## A second function 
 Let's try something more interesting. Make a seqeunce generation tool. 
 
The `sample()` function could be useful here. 
ex. "give me 3 numbers between 1 through 10"

```{r}
sample(1:10, size=3)
```
Change this to work with the nucleotides A C G and T and return 3 of them 

```{r}
n<- c("A","C","T","G")
sample(n, size =15, replace=TRUE)
```
Turn this snipet into a function that returns a user specified length dna sequence. Let's call it `generate_dna()`

```{r}
generate_dna <- function(len=10,fasta=FALSE) {
  n<- c("A","C","T","G")
  v<- sample(n, size=len, replace =TRUE)
  
  #Make a single element vector
  s<- paste(v,collapse="")
  
  cat("Well done you!\n")
  
  if(fasta){
  return(s)}
  else {return (v)}
  }
```

```{r}
generate_dna(6,FALSE)
```

I want the option to return a single element character vector with my sequence all together like this: "GGAGTAC"

```{r}
generate_dna(10,fasta=TRUE)
```




## A more advanced example 

Make a third function that generates protein sequence of a user specified length and format

```{r}

make_protein <- function(length = 10, fasta = TRUE) {
  aa <- c("A","R","N","D","C","Q","E","G","H","I","L","K","M","F","P","S","T","W","Y","V")
  seq <- sample(aa, size = length, replace = TRUE)
  if (fasta) {
    seq <- paste(seq, collapse = "")
    }
  return(seq)
}


```

```{r}
make_protein(10)
```

> Q. Generate random protein seqeunces between lengths 5 and 12 amino acids

One approach is to do this by brute force calling our function for each length 5 to 12. 

Another approach is to write a `for()` loop to itterate over the input valued 5 to 12.

A very useful third R specific approach is to use the `sapply()` function 

```{r}
seq_lengths <- 5:12
for (i in seq_lengths) {
  cat(">", i, "\n")
  cat (make_protein(i))
  cat ("\n")
}
```
```{r}
sapply(5:12, make_protein)
```




> **Key-Point**: Writing functions in R is doable but not the easiest thing. Startinf with a working snippet of code and then using LLM tools to improve and generalize your function cosde is a productive approach.
